<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Codificador RSA - Cifra mensajes con clave privada">
    <meta name="author" content="Santiago de Pablo de Castro">
    <title>Codificador - Sistema de Cifrado RSA</title>
    
    <!-- Estilos CSS -->
    <link rel="stylesheet" href="../css/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”’</text></svg>">
</head>
<body class="codificador">
    
    <!-- Contenedor principal -->
    <div class="container">
        
        <!-- Encabezado -->
        <h1 class="codificador">ğŸ”’ CODIFICADOR</h1>
        <p class="subtitle">
            Cifra tu mensaje usando la clave privada RSA
        </p>
        
        <!-- InformaciÃ³n del proceso -->
        <div class="info-box">
            <strong>â„¹ï¸ Â¿CÃ³mo funciona?</strong>
            <p style="margin: 10px 0 0 0; line-height: 1.8;">
                Este programa cifra mensajes utilizando tu <strong>clave privada</strong>. 
                El mensaje cifrado resultante solo podrÃ¡ ser descifrado con la 
                <strong>clave pÃºblica</strong> correspondiente en el Decodificador.
            </p>
        </div>
        
        <div class="divider"></div>
        
        <!-- Formulario de cifrado -->
        <form onsubmit="event.preventDefault(); cifrar();">
            
            <!-- Campo 1: Clave Privada -->
            <div class="input-group">
                <label for="clavePrivada">
                    <span class="emoji">1ï¸âƒ£</span>
                    Ingresa tu Clave Privada:
                </label>
                <textarea 
                    id="clavePrivada" 
                    class="large"
                    placeholder="-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEA...
-----END RSA PRIVATE KEY-----"
                    required
                    spellcheck="false"
                    autocomplete="off"
                ></textarea>
                <small style="display: block; margin-top: 8px; color: #666;">
                    ğŸ’¡ Copia la clave privada completa que generaste previamente
                </small>
            </div>
            
            <!-- Campo 2: Texto a Cifrar -->
            <div class="input-group">
                <label for="textoOriginal">
                    <span class="emoji">2ï¸âƒ£</span>
                    Escribe el texto a cifrar:
                </label>
                <textarea 
                    id="textoOriginal" 
                    class="large"
                    placeholder="Escribe aquÃ­ tu mensaje secreto..."
                    required
                    maxlength="200"
                ></textarea>
                <small style="display: block; margin-top: 8px; color: #666;">
                    ğŸ“ MÃ¡ximo 200 caracteres | 
                    ğŸ’¡ Presiona <kbd style="background: #eee; padding: 2px 6px; border-radius: 3px;">Ctrl</kbd> + 
                    <kbd style="background: #eee; padding: 2px 6px; border-radius: 3px;">Enter</kbd> para cifrar
                </small>
            </div>
            
            <!-- BotÃ³n de cifrado -->
            <div class="button-container">
                <button type="submit" class="codificador">
                    ğŸ” CIFRAR MENSAJE
                </button>
            </div>
            
        </form>
        
        <!-- Ãrea de resultados -->
        <div id="resultado" class="resultado"></div>
        
        <!-- Advertencia -->
        <div class="warning" style="margin-top: 30px;">
            <strong>âš ï¸ Recordatorio:</strong>
            Tu clave privada es secreta y no debe compartirse. 
            Solo comparte el <strong>texto cifrado</strong> resultante y tu <strong>clave pÃºblica</strong>.
        </div>
        
        <!-- Ayuda adicional -->
        <details style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
            <summary style="cursor: pointer; font-weight: 600; color: #667eea;">
                â“ Â¿Necesitas ayuda?
            </summary>
            <div style="margin-top: 15px; line-height: 1.8; color: #666;">
                <p><strong>Si no tienes claves:</strong></p>
                <ol style="margin: 10px 0 0 20px;">
                    <li>Ve al <strong>Generador de Claves</strong></li>
                    <li>Genera un nuevo par de claves</li>
                    <li>Guarda ambas claves en un lugar seguro</li>
                    <li>Regresa aquÃ­ y pega tu clave privada</li>
                </ol>
                
                <p style="margin-top: 15px;"><strong>Errores comunes:</strong></p>
                <ul style="margin: 10px 0 0 20px;">
                    <li>AsegÃºrate de copiar la clave completa (incluyendo BEGIN y END)</li>
                    <li>No incluyas espacios extra al inicio o final</li>
                    <li>Verifica que estÃ©s usando la clave PRIVADA (no la pÃºblica)</li>
                </ul>
            </div>
        </details>
        
        <!-- NavegaciÃ³n -->
        <div style="margin-top: 30px; text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px;">
            <p style="margin-bottom: 15px; color: #666; font-weight: 600;">ğŸ”— Navega entre programas:</p>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="../generador/index.html" style="text-decoration: none;">
                    <button class="generador" style="width: auto; padding: 10px 20px; font-size: 14px;">
                        ğŸ”‘ Generador de Claves
                    </button>
                </a>
                <a href="../decodificador/index.html" style="text-decoration: none;">
                    <button class="decodificador" style="width: auto; padding: 10px 20px; font-size: 14px;">
                        ğŸ”“ Ir al Decodificador
                    </button>
                </a>
            </div>
        </div>
        
        <!-- Footer -->
        <footer style="margin-top: 30px; text-align: center; color: #999; font-size: 0.9rem;">
            <p>Caso PrÃ¡ctico 1 - Cifrado | Blockchain - UD1</p>
            <p style="margin-top: 5px;">Santiago de Pablo de Castro - 2Âº CESUR MÃ¡laga</p>
        </footer>
        
    </div>
    
    <!-- Biblioteca JSEncrypt desde CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.3.2/jsencrypt.min.js"></script>
    
    <!-- Script JavaScript -->
    <script src="../js/codificador.js"></script>
    
</body>
</html>